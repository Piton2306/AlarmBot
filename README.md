# AlarmBot

AlarmBot — это бот для Telegram, который помогает пользователям устанавливать напоминания и управлять ими. Бот
поддерживает создание, просмотр и удаление напоминаний, а также отправку уведомлений в заданное время.

## Содержание

- [Установка](#установка)
- [Использование](#использование)
- [Команды](#команды)
- [Структура базы данных](#структура-базы-данных)
- [Работа с Docker](#работа-с-docker)

## Установка

1. **Клонируйте репозиторий**:

   ```bash
   git clone <URL вашего репозитория>
   cd AlarmBot


2. **Создайте файл `.env`**:

   Создайте файл `.env` в корневой директории проекта и добавьте туда ваш токен Telegram API:

   ```env
   TELEGRAM_BOT_TOKEN=ваш_токен_здесь
   ```

3. **Запустите Docker-контейнер**:

   Убедитесь, что у вас установлен Docker и Docker Compose, затем выполните:

   ```bash
   docker-compose up --build
   ```

## Использование

После запуска бота вы можете взаимодействовать с ним через Telegram. Добавьте бота в свои контакты и используйте
следующие команды:

## Команды

- `/start`: Приветственное сообщение с описанием доступных команд.
- `/set`: Установить новое напоминание.
- `/list`: Показать список напоминаний и оставшееся до них время.
- `/delete`: Удалить напоминание.

## Структура базы данных

Бот использует базу данных SQLite для хранения информации о напоминаниях. Основная таблица — `reminders`, которая имеет
следующую структуру:

| Колонка            | Тип данных | Описание                                                                |
|--------------------|------------|-------------------------------------------------------------------------|
| `id`               | INTEGER    | Уникальный идентификатор напоминания (автоинкремент).                   |
| `chat_id`          | INTEGER    | Идентификатор чата, в котором было установлено напоминание.             |
| `reminder_time`    | TEXT       | Время напоминания в формате ISO 8601 (например, `2023-10-01T12:00:00`). |
| `reminder_message` | TEXT       | Сообщение напоминания.                                                  |
| `is_sent`          | INTEGER    | Статус отправки напоминания (0 - не отправлено, 1 - отправлено).        |

### Пример SQL-запроса для создания таблицы

```sql
CREATE TABLE IF NOT EXISTS reminders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    chat_id INTEGER,
    reminder_time TEXT,
    reminder_message TEXT,
    is_sent INTEGER DEFAULT 0
);
```

### Пример SQL-запроса для вставки данных

```sql
INSERT INTO reminders (chat_id, reminder_time, reminder_message, is_sent)
VALUES (123456, '2023-10-01T12:00:00', 'Напоминание о встрече', 0);
```

### Пример SQL-запроса для выборки данных

```sql
SELECT * FROM reminders WHERE is_sent = 0;
```

### Пример SQL-запроса для обновления данных

```sql
UPDATE reminders
SET is_sent = 1
WHERE id = 1;
```

### Пример SQL-запроса для удаления данных

```sql
DELETE FROM reminders
WHERE id = 1;
```

## Работа с Docker

### Подключение к контейнеру

Для выполнения команд внутри контейнера используйте:

```bash
docker exec -it AlarmBot /bin/bash
```

### Работа с базой данных

Для работы с базой данных SQLite внутри контейнера:

```bash
sqlite3 reminders.db
```

### Копирование файла базы данных

Для резервного копирования базы данных или её восстановления используйте команды:

- **Копирование базы данных из контейнера на хост**:

  ```bash
  docker cp AlarmBot:/usr/src/app/reminders.db D:\Project\AlarmBot\db_docker\reminders.db
  ```

- **Копирование базы данных с хоста в контейнер**:

  ```bash
  docker cp D:\Project\AlarmBot\db_docker\reminders.db AlarmBot:/usr/src/app/reminders.db
  ```