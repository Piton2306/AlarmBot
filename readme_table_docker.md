# Документация для базы данных

## Таблица `reminders`

### Описание

Таблица `reminders` хранит информацию о напоминаниях, установленных пользователями. Каждое напоминание имеет уникальный
идентификатор, идентификатор чата, время напоминания, сообщение напоминания и статус отправки.

### Структура таблицы

| Колонка            | Тип данных | Описание                                                                |
|--------------------|------------|-------------------------------------------------------------------------|
| `id`               | INTEGER    | Уникальный идентификатор напоминания (автоинкремент).                   |
| `chat_id`          | INTEGER    | Идентификатор чата, в котором было установлено напоминание.             |
| `reminder_time`    | TEXT       | Время напоминания в формате ISO 8601 (например, `2023-10-01T12:00:00`). |
| `reminder_message` | TEXT       | Сообщение напоминания.                                                  |
| `is_sent`          | INTEGER    | Статус отправки напоминания (0 - не отправлено, 1 - отправлено).        |

### Пример SQL-запроса для создания таблицы

```sql
CREATE TABLE IF NOT EXISTS reminders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    chat_id INTEGER,
    reminder_time TEXT,
    reminder_message TEXT,
    is_sent INTEGER DEFAULT 0
);
```

## Работа с Docker-контейнером и базой данных

Подключаемся к работающему Docker-контейнеру с именем AlarmBot в интерактивном режиме.
Это позволяет выполнять команды внутри контейнера.

 ```bash
docker exec -it AlarmBot /bin/bash
 ```

Внутри контейнера запускаем SQLite-клиент для работы с базой данных reminders.db. Это позволяет выполнять SQL-запросы к
базе данных.

 ```bash
sqlite3 reminders.db
 ```

Выполняем SQL-запрос для выборки всех данных из таблицы reminders.
Это позволяет просмотреть все записи в таблице.

 ```sql
SELECT * FROM reminders;
```

Подключаемся к работающему Docker-контейнеру с именем AlarmBot в интерактивном режиме.
Это позволяет выполнять команды внутри контейнера.

 ```bash
docker exec -it AlarmBot /bin/bash
```

Копируем файл базы данных reminders.db из контейнера AlarmBot на хост.
Это позволяет сохранить текущее состояние базы данных на локальном компьютере.

 ```bash
docker cp AlarmBot:/usr/src/app/reminders.db D:\Project\AlarmBot\db_docker\reminders.db
```

Копируем файл базы данных reminders.db с хоста обратно в контейнер AlarmBot.
Это позволяет обновить базу данных в контейнере новыми данными или восстановить её из резервной копии.

 ```bash
docker cp D:\Project\AlarmBot\db_docker\reminders.db AlarmBot:/usr/src/app/reminders.db
```